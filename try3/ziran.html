<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
	<style type="text/css">
		body, html,#allmap {width: 100%;height: 600px;overflow: hidden;margin:0;font-family:"微软雅黑";}
	</style>
	<script type="text/javascript" src="https://api.map.baidu.com/api?v=2.0&ak=xBior0q74anDqjdbmcUmNpNoyYpo39UE"></script>
	<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.js"></script>
	<title>自然</title>
	<style>
		.search {
			position: fixed;
			top: 40px;
			left: 40px;
		}
		.search result {
			width: 400px;
			background: #fff;
		}
		.search ul {
			list-style: none;
		}
	</style>
</head>
<body>
	<div id="allmap"></div>
	<div class="search">
		<div class="input">
			<label for="search">搜索:</label>
			<input id="search" type="text" oninput="textChange(event)" onporpertychange="textChange(event)">
		</div>
		<div class="result">
			<ul style="max-height: 500px; background:#FFFAFA" >
			</ul>
		</div>
	</div>

	<script>
		function textChange(event) {
			const searchVal = event.target.value
			let resultList = []
			let resultHtml = ""
			for (let i in data_info) {
				let title = data_info[i][3]
				if (title.indexOf(searchVal) !== -1) {
					resultList.push({title: title, pos: {x: data_info[i][0], y: data_info[i][1]}})
				}
			}
			$(".result ul").show();
			console.log(resultList)
			for (let i in resultList) {
				let data = resultList[i]
				resultHtml += "<li onClick='searchClick(" + data.pos.x + "," + data.pos.y + ")'>" + data.title + "</li>"
			}
			$('.result ul').html(resultHtml)
		}
		function searchClick(x, y) {
			const markList = map.getOverlays()
			console.log(markList)
			for (let i in markList) {
				if (markList[i].point.lng === x && markList[i].point.lat === y) {
					markList[i].V.click()
					$(".result ul").hide();
					return
				}
			}
		}
	</script>
</body>
</html>
<script type="text/javascript">
	// 百度地图API功能
	var map = new BMap.Map("allmap");            
	map.centerAndZoom(new BMap.Point(100.869771,36.81209), 9.5);                
	map.enableScrollWheelZoom();   //启用滚轮放大缩小，默认禁用
	map.enableContinuousZoom();    //启用地图惯性拖拽，默认禁用
    
	// 百度地图API功能

	var data_info = [[100.842372,37.194245,"湟水是黄河上游重要支流，位于中国青海省东部，发源于青海省海晏县境内的包呼图山，流经青海省大通—达坂山与拉脊山之间的纵谷，为羽状水系。流经青海省、甘肃省，在甘肃省永靖县和青海省民和县之间注入黄河。全长374公里，流域面积3200多平方公里。","湟水","img/huangshui1.png","湟水流域孕育出了灿烂的马家窑、齐家、卡约文化，养育了青海省约60%的人口，被称为是“青海的母亲河”。湟水河流域范围内河谷宽阔、气候宜人，孕育了高原千年文明，狭长的河湟谷地集中了青海近60%的人口、52%的耕地和70%以上的工矿企业。因之，湟水河被称作青海的“母亲河”。是黄河主要来水源之一，也是兰州市城市用水的主要水源。下游河谷宽阔，富水力资源，开发有大量中小水电站。"],
					 [100.502531,36.584026,"二郎剑景区是青海湖景区的文化验与运动困基地。也是青海湖的核心景区。","青海湖二郎剑景区","img/qhh.png","距西市136公里。这里是我国第一个鱼雷发射试验基地，退役后造成为集光、休闲和文化体验为一体的旅游景区。极目远眺。海天一色的青海湖，令人心旷神怡，是观赏青海湖的最佳位置。旅游者还可以从大型民族歌舞、藏风情园、乘船游湖、圣湖祭祀等游项目和活动中领略青海高原独有的文化和民族风情。"],
					 [100.121881,37.206528,"仙女湾景区位于青海湖北岸，是青海湖重要湿地，天鹅的家园，具有丰富的生物多样性特点，每年秋冬季节成群的大天鹅在此栖息。","仙女湾景区","img/xnw.png","炫丽的高原草甸湿地、多彩的藏民族文化风情，使其成为集高原湿地生态体验和祭海文化于一体的旅游景区"],
					 [102.536678,36.820345,"北山国家林地质公国位于互助具东北部，距互助县城驻地威远镇78公里，距省会西宁市110公里。境内动植物资源丰富，被誉为天然的“动植物王国”。","北山国家林地质公国","img/bs.png","林区山川秀丽、谷幽涧深、层峦叠嶂、林海涌涛。森林公园境内群峰巍峨，山清水秀，高原特色突出，是旅游避暑、疗养度假、休闲运动、科普考察的胜地。"],
					 [101.739386,36.633199,"青藏高原野生动物园是一处集野生动物观赏、保护、科研、繁育、科普教育为一体的具有高原特色、人与动物自然和谐共处的旅游胜地。","青藏高原野生动物园","img/ysdwy.png","园区海拔2295米，占地面积5000余亩，主展区面积1500亩，园区内有动物散养区、动物圈养区、动物教护检疫区、科晋教育区、餐饮游乐综合服务区5个区24个景点，共展出动物180余种，3000余头（只）。既有青藏高原珍稀动物普氏原羚、雪豹、藏野驴、野牦牛、白唇鹿、荒漠猫、黑颈鹤等，还有异地来客长颈鹿、斑马、河马、阿拉伯狒狒、海豹、鳄鱼等，种类丰富，特色鲜明。"],
					 [102.698783,35.823015,"孟达自然保护区位于循化县孟达山区。","孟达天池","img/mdtc.png","该山地属当蕊山一五台山区，恰好是青藏高原东北边绿与陇黄土高原的过渡地带。总面积17290公顷，海拔1780米一3356米。保护区素有高原“西双版纳”的美誉。共有景点60多处。"],
					 [101.708248,36.938148,"老爷山是大通中部的一座主要山峰，面积为3.24平方公里，因山顶原有太元宫而得名，又称元朔山、北武当，山势呈西北向东南走向","老爷山","img/lys.png","老爷山山势雄伟，以奇峰险崖著称，风景优美如画，气势磅礪，奇峰突出，峭壁凌云，高差悬殊，主峰海拔2928米，相对高度486.5米，景区自古以来以苍松蓊翳，石磴盘梯，风景秀丽而闻名天下"],
					 [101.686647,36.951393,"青海大通北川河源区国家级自然保护区位于青海省西宁市大通县境内，湟水河一级支流——北川河的源头","青海大通北川河源区国家级自然保护区","img/bcgy.png","地理坐标介于东经100°52′—101°47′，北纬37°03′—37°28′之间  ，涉及大通县宝库、青林、青山、向化、桦林等5个乡镇  ， 保护区总面积107870公顷 ，占大通县总面积的34.91% 。其中核心区面积40156.6 公顷，缓冲区面积38447.4公顷，实验区面积29266公顷。是以保护森林生态系统及其生物多样性，集物种与生态保护、水源涵养、科普宣传、科学研究、自然资源可持续发展等多功能于一体的森林生态系统类型自然保护区。 "],
					 [94.382745,36.438196,"格尔木胡杨林位于格尔木市郭勒木德乡托拉海牧业社境内，在格尔木市以西50公里，托拉海河滩阶地及散生于该河西岸的沙丘及丘间地","格尔木胡杨林","img/gem.png","该区介于北纬36°32′—36°40′，东经90°20′—90°26′之间，东西长6公里，南北宽7公里，海拔2730—2813米，保护区总面积4200公顷"],
					 [97.352531,34.939925,"扎陵湖与鄂陵湖同为黄河上游最大的一对淡水湖，又称“查灵海”，藏语意为白色长湖。位于青海高原玛多县西部构造凹地内，居鄂陵湖西侧。湖面海拔4294米，东西长35公里，南北宽21.6公里。面积526平方公里，水深平均8.9米，最深处在湖心偏东北一侧，蓄水量46亿立方米。","扎陵湖与鄂陵湖","img/xlh.png","纳卡日曲与约古宗列渠（藏名玛曲）汇成之黄河。自西南一隅流入，由东南一隅流出，湖心偏南为黄河主流线。黄河携带大量泥沙入湖，风浪泛起时湖面呈灰白色，故有白色长湖之称。湖中多浮游植物，鱼类资源丰富，与鄂陵湖同为青海水产捕捞基地之一。湖西部距黄河入湖处不远有3小岛,夏季大群候鸟聚居，也称鸟岛。湖滨多为亚高山草甸，为重要牧场。"],
					 [101.100621,36.448272,"日月山坐落在青海省西宁市湟源县西南40公里，属祁连山脉，长90公里，是青海湖东部的天然水坝。平均海拔4000米左右，海拔最高为4877米，青藏公路通过的日月山口为海拔3520米。","日月山","img/rys.png","日月山不仅有恢宏的历史意义，它还有非常重大的地理意义。它位于我国季风区与非季风区的分界线上，地处黄土高原与青藏高原的叠合区，是青海省内外流域的天然分界线，划分了农耕文明与游牧文明。日月山自古就是历史上“羌中道”、“丝绸南路”、“唐蕃古道”的重要通道。南北朝时期，由于河西走廊丝绸之路堵塞而开辟的“丝绸南路”，即经日月山、青海湖，过柴达木盆地通往西域。唐代开辟的“唐蕃古道”更是由东北入境从西南出境前往河源去拉萨，贯穿海南州腹地。日月山曾经是会盟、和亲、战争以及“茶盐”、“茶马”互市等等重多历史事件的见证。"],
					 [94.073364,35.64528,"青海可可西里国家级自然保护区位于青海省玉树藏族自治州西部，总面积450万公顷。是21世纪初世界上原始生态环境保存较好的自然保护区，也是中国建成的面积最大，海拔最高，野生动物资源最为丰富的自然保护区之一。","青海可可西里国家级自然保护区","img/kkxl.png","青海可可西里国家级自然保护区主要是保护藏羚羊、野牦牛、藏野驴、藏原羚等珍稀野生动物、植物及其栖息环境 "],
					 [94.075651,35.646369,"昆仑山口位于青海西南部，昆仑山中段，格尔木市区南160公里处，是青海、甘肃两省通往西藏的必经之地，也是青藏公路上的一大关隘，因山谷隘口而得名，亦称“昆仑山垭口”。","昆仑山口","img/kls.png","昆仑山是中华民族的象征，也是中华民族神话传说的摇篮，古人尊为“万山之宗”、“龙脉之祖”，因而有“国山之母”的美称，藏语称“阿玛尼木占木松”，即祖山之意。莽莽昆仑，气势磅礴，四季寒冬，银装素裹，群山连绵，万仞云霄。登临山口，巍巍昆仑的千峰万壑如同披着银灰色铠甲的群群奔马，随着风起云涌，滚滚向前。昆仑山口地势高耸，气候寒冷潮湿，空气稀薄，生态环境独特，自然景色壮观。这里群山连绵起伏，雪峰突兀林立，草原草甸广袤。尤其令人感到奇特的是，这里到处是突兀嶙峋的冰丘和变幻莫测的冰锥，以及终年不化的高原冻土层。冰丘有的高几米，有的高十几米，冰丘下面是永不枯竭的涓涓潜流。一旦冰层揭开，地下水常常喷涌而出，形成喷泉。而冰锥有的高一二米，有的高七八米。这种冰锥不断生长，不断爆裂。爆裂时，有的喷浆高达二三十米，并发出巨大的响声。昆仑山口的大片高原冻土层虽终年不化，但冻土层表面的草甸上却生长着青青的牧草。每到盛夏季节，草丛盛开着各种鲜艳夺目的野花，煞是好看。"],
					 [91.925931,32.877356,"唐古拉山口，公路海拔5231米，铁路海拔5072米。是青海、西藏两省的天然分界线，视野开阔望得远。这一带是一片冻土，泥土层的水分长年结冰。","唐古拉山口","img/tgl.png","山口天气极不稳定，即使夏天，公路也经常被大雪所封，冰雹、霜雪更是常见现象。此处空气含氧量只有海平面的六成，所以一般乘客路过唐古拉山口，会有明显的高山反应。"],
					 [102.698783,35.823015,"察尔汗盐湖，是中国青海省西部的一个盐湖，位于柴达木盆地南部，地跨格尔木市和都兰县，由达布逊湖以及南霍布逊、北霍布逊、涩聂等盐池汇聚而成，总面积5856平方公里，格尔木河、柴达木河等多条内流河注入该湖。","察尔汗盐湖","img/cehyh.png","由于水分不断蒸发，盐湖上形成坚硬的盐盖，青藏铁路和青藏公路直接修建于盐盖之上，察尔汗盐湖蕴藏有丰富的氯化钠、氯化钾、氯化镁等无机盐，总储量达20多亿吨，为中国矿业基地之一。"],
					  [92.411516,34.241969,"沱沱河:位于格尔木市南域唐古拉山镇，是长江源(通天河)的主源，在可可西里山脉以南。","沱沱河","img/tth.png","它从格拉丹东雪山的姜根迪如冰川发源时，是一些冰川、冰斗的融水汇成的小溪流，这时的水面宽只有3米，深只有20多厘米，然后向北流过9千多米长的距离，在巴冬山下汇集了ga尕恰迪如岗雪山的冰川融水，经过一条长约15公里的谷地，继续向北，分成了两条宽4米和6米的小河，小河两边的谷地中还有许多密如蛛网的水流，这里是沱沱河的上源。在这片谷地的出口，河谷突然下切，形成了一条长约5公里的陡峭峡谷，高达20多米。众多河流交汇后，形成了河道开阔，水流交织的长江上源--沱沱河。"],
					 [96.559073,33.209474,"玉树隆宝国家级自然保护区位于青藏高原东部的通天河畔，总面积约100平方公里，是唯一栖息于高原和主要分布于我国的珍禽黑颈鹤的重要繁殖地，1986年7月建立","玉树隆宝国家级自然保护区","img/yslb.png","这里的气候属高原大陆性气候，干燥寒冷，风大，日照长，辐射强烈。"],
					 [102.697602,35.821786,"孟达林区自然保护区，位于西宁东南方110多公里的循化撒拉族自治县境内。这里山清水秀，气候宜人，数百种树木掩天蔽日，各种花草植物绿茵盖地；有“高原西双版纳”之美称。","孟达林区自然保护区","img/mdlq.png","以孟达天池为中心的重点保护区，面积近2700公顷，有植物509种，其中有：巴山冷杉、青冈、华山松、辽东栋等十几种乔木，还有人参、三七、贝母等名贵药材。此外还有大量的珍稀动物。林区内，怪石嶙峋，瀑布垂挂。孟达天池面积约300亩，池水清澈碧澄与蓝天一色，群峰倒影，随波微动。湖中水鸟飞翔，鱼儿舒然游动。是青海省避暑、疗养和旅游胜地。"],
					 [91.603706,37.586377,"青海柴达木梭梭林国家级自然保护区位于德令哈市西南部，西至大柴旦全集河，北与青藏铁路相连，南与东西走向的额木尼克山为界。","青海柴达木梭梭林国家级自然保护区","img/cdmqql.png","地理位置为北纬36°00′～37°24′，东经95°58～′97°52′。保护区东西长114公里，南北宽54公里，保护区面积3105平方公里。2000年5月始建为省级自然保护区，2013年7月晋升为国家级自然保护区。保护区内主要保护对象为梭梭林。"],
					  [96.941845,37.145165,"托素是蒙古语，即“酥油湖”的意思。托素湖是典型的内陆咸水湖，湖的周围全是茫茫的戈壁滩，气温较高，湖水的蒸发量很大，水中的含盐量增高，水生动植物和浮游动植物也很少。","托素湖","img/tsh.png","托素湖湖面辽阔、湖岸开阔，无遮无拦。风平浪静时，湖面烟波浩森，水天一色，蔚为壮观；天气变幻时，湖水浪涛汹涌，浪花飞溅，拍岸有声，动人心魄。"],
					 [91.777263,37.586877,"“克鲁克”是蒙古语，意思是“多草的芨芨滩、水草茂美的地方”。","克鲁克","img/klk.png","她位于柴达木盆地的东部，属于微咸性淡水湖，水色清澈、湖面平静，景色绮丽旖旎。"],
					 [96.259543,36.407603,"距都兰香日德西以西150公里，是一块镶嵌在柴达木盆地里的绿洲。从109国道向北拐，可达诺木洪乡和诺木洪农场。","诺木洪农场","img/nmhnc.png","诺木洪农场已有40多年的历史了，是青海省的一座劳改农场，整个农场南北宽度大概只有三、四公里，但东西长度有近20公里。 柴达木盆地边缘的哈瓦村，是蒙古族聚居区，这里遍地野生的沙棘林，结满红色的沙棘果。沙棘是沙生植物，是生命异常顽强的灌木植物，耐干旱、耐盐碱，它不仅可以抵抗风沙，还成为野生动物的庇护地。"]

	];
	var opts = {
				width : 700,     // 信息窗口宽度
				    // 信息窗口高度
				enableMessage:true//设置允许信息窗发送短息
			   };
	for(var i=0;i<data_info.length;i++){
		var marker = new BMap.Marker(new BMap.Point(data_info[i][0],data_info[i][1]));  // 创建标注
		var content = 
		"<h4 style='margin:0 0 5px 0;padding:0.2em 0'>"+data_info[i][3]+"</h4>" +
           "<img style='float:right;margin:4px' src='"+data_info[i][4]+"' width='139' height='104' title='"+data_info[i][3]+"'/>" +
           "<p style='margin:0;line-height:1.5;font-size:16px;text-indent:2em'>"+data_info[i][2]+"</p>"+
           "<p style='margin:0;line-height:1.5;font-size:16px;text-indent:2em'>"+data_info[i][5]+"</p>"
         
           ;
           
           
		map.addOverlay(marker);               // 将标注添加到地图中
		addClickHandler(content,marker);
	}
	function addClickHandler(content,marker){
		marker.addEventListener("click",function(e){
			openInfo(content,e)}
		);
	}
	function openInfo(content,e){
		var p = e.target;
		var point = new BMap.Point(p.getPosition().lng, p.getPosition().lat);
		var infoWindow = new BMap.InfoWindow(content,opts);  // 创建信息窗口对象 
		map.openInfoWindow(infoWindow,point); //开启信息窗口
	}
</script>
